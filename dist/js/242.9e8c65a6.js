"use strict";(self["webpackChunkvue3_bs"]=self["webpackChunkvue3_bs"]||[]).push([[242],{8242:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});s(7658);var a=s(3396),n=s(4870),o=s(7139),l=s(9242),u=s(5101),r=s(2483);const p=e=>((0,a.dD)("data-v-6e54c4cd"),e=e(),(0,a.Cn)(),e),c={class:"loginContainer"},d=p((()=>(0,a._)("p",null,"欢迎使用租房数据可视化平台",-1))),i={class:"form"},v=p((()=>(0,a._)("p",{style:{height:"5%"}},"请登录",-1)));var _={__name:"loginComponent",setup(e){const t=(0,r.tv)();let s=(0,n.iH)(""),p=(0,n.iH)("");const _=(0,a.FN)(),g=()=>{""!==s.value&&""!==p.value?(0,u.zu)(s.value,p.value).then((e=>{200===e.code?(_.proxy.$message({text:"登陆成功",type:"success"}),localStorage.setItem("bstoken",e.token),t.push("/detail")):(_.proxy.$message({text:e.errMsg,type:"error"}),t.push("/zc"))})):_.proxy.$message({text:"账号密码不能为空",type:"error"})};return(0,a.bv)((()=>{localStorage.getItem("bstoken")?(0,u.a_)(localStorage.getItem("bstoken")).then((e=>{e.status?(_.proxy.$message({text:"token校验成功",type:"success"}),t.push("/detail")):(_.proxy.$message({text:"token已过期",type:"error"}),t.push("/login"))})):(_.proxy.$message({text:"未找到token",type:"warn"}),t.push("/login"))})),(e,t)=>((0,a.wg)(),(0,a.iD)("div",c,[d,(0,a._)("div",i,[v,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>(0,n.dq)(s)?s.value=e:s=e),class:(0,o.C_)([""!==(0,n.SU)(s)?"act":""]),type:"text",name:"usn",id:"usn"},null,2),[[l.nr,(0,n.SU)(s)]]),(0,a._)("label",{for:"usn",class:(0,o.C_)([""!==(0,n.SU)(s)?"active":""])},"用户名",2),(0,a.wy)((0,a._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>(0,n.dq)(p)?p.value=e:p=e),class:(0,o.C_)([""!==(0,n.SU)(p)?"act":""]),name:"pwd",id:"pwd"},null,2),[[l.nr,(0,n.SU)(p)]]),(0,a._)("label",{for:"pwd",class:(0,o.C_)([""!==(0,n.SU)(p)?"active":""])},"密码",2),(0,a._)("button",{onClick:g},"登录")])]))}},g=s(89);const y=(0,g.Z)(_,[["__scopeId","data-v-6e54c4cd"]]);var m=y}}]);
//# sourceMappingURL=242.9e8c65a6.js.map